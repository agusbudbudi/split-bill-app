<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="manifest" href="/split-bill-app/manifest.json" />

    <title>Split Bill App - Bagi Tagihan Lebih Mudah</title>
    <meta name="title" content="Split Bill App - Bagi Tagihan Lebih Mudah" />
    <meta
      name="description"
      content="Buat dan bagikan pembagian tagihan secara otomatis dengan Split Bill App. Praktis dan cepat!"
    />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://agusbudbudi.github.io/split-bill-app/"
    />
    <meta
      property="og:title"
      content="Split Bill App - Bagi Tagihan Lebih Mudah"
    />
    <meta
      property="og:description"
      content="Buat dan bagikan pembagian tagihan secara otomatis dengan Split Bill App. Praktis dan cepat!"
    />
    <meta
      property="og:image"
      content="https://agusbudbudi.github.io/split-bill-app/img/preview.png"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://agusbudbudi.github.io/split-bill-app/"
    />
    <meta
      property="twitter:title"
      content="Split Bill App - Bagi Tagihan Lebih Mudah"
    />
    <meta
      property="twitter:description"
      content="Buat dan bagikan pembagian tagihan secara otomatis dengan Split Bill App. Praktis dan cepat!"
    />
    <meta
      property="twitter:image"
      content="https://agusbudbudi.github.io/split-bill-app/img/preview.png"
    />

    <title>Split Bill</title>
    <!-- Favicon -->
    <link rel="icon" href="SplitBill-icon.png" type="image/png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
    <!-- Quill CSS -->
    <link
      href="https://cdn.quilljs.com/1.3.6/quill.snow.css"
      rel="stylesheet"
    />
    <!-- Flatpickr CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />

    <link
      rel="stylesheet"
      href="https://unicons.iconscout.com/release/v4.0.8/css/line.css"
    />

    <link rel="stylesheet" href="css/ui.css" />
    <link rel="stylesheet" href="css/table.css" />
    <link rel="stylesheet" href="css/button.css" />
    <link rel="stylesheet" href="css/menu.css" />
    <link rel="stylesheet" href="css/infobox.css" />
    <link rel="stylesheet" href="css/collectMoney.css" />
    <link rel="stylesheet" href="css/underConstruction.css" />
    <link rel="stylesheet" href="css/uploadFile.css" />
    <link rel="stylesheet" href="css/modal.css" />
    <link rel="stylesheet" href="css/mobile.css" />
    <link rel="stylesheet" href="css/avatar.css" />
    <link rel="stylesheet" href="css/expenseList.css" />
    <link rel="stylesheet" href="css/summary.css" />
    <link rel="stylesheet" href="css/invoice.css" />
    <link rel="stylesheet" href="css/toastMessage.css" />
    <link rel="stylesheet" href="css/saving.css" />
    <link rel="stylesheet" href="css/transactions.css" />
    <link rel="stylesheet" href="css/theme.css" />
  </head>

  <body data-default-tab="transaction-savings">
    <!-- Header -->
    <header class="sticky-header">
      <div class="header-left">
        <button class="back-btn" onclick="goBack()">
          <i class="fas fa-arrow-left"></i>
        </button>
        <span class="section-title">Transaksi</span>
      </div>
    </header>

    <div class="container">
      <div class="table-wrapper">
        <div class="card-container top-container">
          <div class="tab-container">
            <button
              onclick="showTab('transaction-savings')"
              class="tab-button tab-transaction"
              data-tab="transaction-savings"
            >
              <i class="uil uil-wallet"></i>
              Tabungan
            </button>

            <button
              onclick="showTab('transaction-invoice')"
              class="tab-button tab-transaction"
              data-tab="transaction-invoice"
            >
              <i class="uil uil-invoice"></i>
              Invoice
            </button>
          </div>
        </div>
      </div>

      <div id="transaction-savings" class="section-content tab-section">
        <div class="table-wrapper">
          <div class="card-container">
            <!-- Filter Section -->
            <div
              class="filter-header"
              onclick="toggleSection('.filter-section', 'filterIcon')"
            >
              <div class="header-left">
                <span class="section-title">Filter Transaksi</span>
                <span
                  id="activeFilterCount"
                  class="filter-count-label"
                  style="display: none"
                  >(0)</span
                >
              </div>
              <div class="header-right">
                <button class="filter-btn">
                  <i class="fa-solid fa-chevron-down" id="filterIcon"></i>
                </button>
              </div>
            </div>

            <!-- Filter bottom sheet -->
            <div class="filter-section">
              <div class="filter-row">
                <div class="filter-group">
                  <label class="filter-label">Dari Tanggal</label>
                  <div class="date-input">
                    <input
                      type="date"
                      class="filter-input"
                      id="dateFrom"
                      placeholder="Select date"
                    />
                  </div>
                </div>
                <div class="filter-group">
                  <label class="filter-label">Sampai Tanggal</label>
                  <div class="date-input">
                    <input
                      type="date"
                      class="filter-input"
                      id="dateTo"
                      placeholder="Select date"
                    />
                  </div>
                </div>
              </div>

              <div class="filter-row">
                <div class="filter-group">
                  <label class="filter-label">Kategori</label>
                  <select id="categoryFilter" class="filter-input">
                    <option value="">Semua Kategori</option>
                  </select>
                </div>
                <div class="filter-group">
                  <label class="filter-label">Metode Penyimpanan</label>
                  <select id="paymentMethodFilter" class="filter-input">
                    <option value="">Semua Metode</option>
                  </select>
                </div>
              </div>

              <div class="filter-actions">
                <button class="btn btn-primary" onclick="applyFilters()">
                  <i class="fas fa-filter"></i> Terapkan Filter
                </button>
                <button class="btn secondary-button" onclick="clearFilters()">
                  <i class="fas fa-times"></i> Reset
                </button>
              </div>

              <!-- Active Filters -->
              <div id="activeFilters" class="active-filters hidden"></div>
            </div>
          </div>
        </div>

        <div class="table-wrapper">
          <div class="card-container">
            <!-- Transactions Section -->
            <div class="transactions-section">
              <!-- Summary Cards -->
              <div class="summary-cards">
                <div class="summary-card">
                  <h3 id="totalFilteredAmount">Rp 0</h3>
                  <p>Total Tabungan</p>
                </div>
                <div class="summary-card">
                  <h3 id="totalFilteredTransactions">0</h3>
                  <p>Total Transaksi</p>
                </div>
              </div>

              <!-- Section Header -->
              <div class="section-header">
                <label class="section-title">Riwayat Transaksi</label>
                <span id="transactionCount" class="transaction-count"
                  >0 transaksi</span
                >
              </div>

              <!-- Transactions List -->
              <div id="transactionsList" class="transactionsList"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Section Invoice -->
      <div id="transaction-invoice" class="section-content tab-section">
        <div class="table-wrapper">
          <div class="card-container">
            <label class="section-title">History Invoice</label>

            <div
              id="invoiceCardList"
              class="invoice-card-container transactionsList"
            ></div>
          </div>
        </div>
      </div>
    </div>
    <!-- Quill JS -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="js/invoice.js"></script>
    <script src="js/transactions.js"></script>
    <script src="js/bottomsheet.js"></script>
    <script src="js/invoiceDetail.js"></script>
    <script src="js/ui.js"></script>

    <script>
      setupCurrencyFormatter("splitAmountFormatted", "splitAmount");
      setupCurrencyFormatter("collectAmountFormatted", "collectAmount");
    </script>
  </body>
</html>
